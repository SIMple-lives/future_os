# 函数调用约定简介

调用约定:`calling conventions`

在进程自己的栈空间保存参数。

```c
subtrack(int a, int b){
    return a-b;
}
int sub = subtract(3,2);
```

这里只要带入实参`3`和`2`即可

主调用者：

```assembly
push 2	;压入参数b
push 3	;压入参数a
call subtract	;调用函数subtract
```

被调用者：

```assembly
push ebp			;备份ebp,为以后用ebp作为基址来寻址
mov ebp, esp		;将当前栈顶赋值给ebp
mov eax, [ebp + 8]	;得到被减数，参数a
sub eax, [ebp + 12]	;得到减数，参数b
pop ebp				;恢复ebp的值
```

![image-20241216185648584](https://raw.githubusercontent.com/SIMple-lives/future_os/main/img/image-20241216185648584.png)